---
name: 开始
route: /
---

import { useState, useCallback } from 'react';
import { Playground } from 'docz';
import { MdDelete } from 'react-icons/md';
import TabGroup, {
  Tab,
  TabHeader,
  TabHeaderItem,
  TabContent,
  TabPanel,
} from '../src';
import TabContentDemo from './TabContentDemo';
import Button from 'sinoui-components/Button';

# 标签页

选项卡切换组件。

## 安装依赖

```shell
yarn add sinoui-components @sinouiincubator/tab-group
```

## 入门示例

```tsx
import React from 'react';
import TabGroup, { Tab } from '@sinouiincubator/tab-group';

function Demo() {
  return (
    <TabGroup>
      <Tab title="标签1">标签内容1</Tab>
      <Tab title="标签2">标签内容2</Tab>
      <Tab title="标签3">标签内容3</Tab>
    </TabGroup>
  );
}
```

<Playground>
  <TabGroup>
    <Tab title="标签1">标签内容1</Tab>
    <Tab title="标签2">标签内容2</Tab>
    <Tab title="标签3">标签内容3</Tab>
  </TabGroup>
</Playground>

## 可访问性

```tsx
import React from 'react';
import TabGroup, { Tab } from '@sinouiincubator/tab-group';

function Demo() {
  return (
    <TabGroup>
      <Tab title="标签1" id="tab-pad">
        标签内容1
      </Tab>
      <Tab title="标签2" id="tab-phone">
        标签内容2
      </Tab>
      <Tab title="标签3" id="tab-vr">
        标签内容3
      </Tab>
    </TabGroup>
  );
}
```

<Playground>
  <TabGroup>
    <Tab title="标签1" id="tab-pad">
      标签内容1
    </Tab>
    <Tab title="标签2" id="tab-phone">
      标签内容2
    </Tab>
    <Tab title="标签3" id="tab-vr">
      标签内容3
    </Tab>
  </TabGroup>
</Playground>

## 标签头部 - TabHeader

```tsx
import React from 'react';
import { TabHeader, TabHeaderItem } from '@sinouiincubator/tab-group';

function TabHeaderDemo() {
  return (
    <TabHeader>
      <TabHeaderItem title="标签1">标签内容1</TabHeaderItem>
      <Tab title="标签2">标签内容2</Tab>
      <Tab title="标签3">标签内容3</Tab>
    </TabHeader>
  );
}
```

<Playground>
  {() => {
    const [active, setActive] = useState(0);

    return <TabHeader selectedIndex={active} onSelect={setActive}>
      <TabHeaderItem title="标签1" />
      <TabHeaderItem title="标签2" />
      <TabHeaderItem title="标签3" />
    </TabHeader>;

}}

</Playground>

<Playground>
  {() => {
    const [active, setActive] = useState(0);
    const NextIcon = () => <div style={{ display: 'inline-block', padding: "12px 8px 0px 8px", color: 'rgba(0, 0, 0, 0.54)'}}>></div>;
    return <TabHeader selectedIndex={active} onSelect={setActive}>
      <TabHeaderItem title="标签1" />
      <NextIcon />
      <TabHeaderItem title="标签2" />
      <NextIcon />
      <TabHeaderItem title="标签3" />
    </TabHeader>;

}}

</Playground>

## TabContent

<Playground>
  {() => {
    const [active, setActive] = useState(0);
    const handlePrevClick = useCallback(() => {
      if (active === 0) {
        return;
      }

      setActive(active - 1);
    }, [active]);

    const handleNextClick = useCallback(() => {
      if (active === 2) {
        return;
      }
      setActive(active + 1);
    }, [active]);

    return (
      <>
        <TabContent selectedIndex={active}>
          <TabPanel>内容1</TabPanel>
          <TabPanel>内容2</TabPanel>
          <TabPanel>内容3</TabPanel>
        </TabContent>
        <Button onClick={handlePrevClick}>上一页</Button>
        <Button onClick={handleNextClick}>下一页</Button>
      </>
    );

}}

</Playground>

## 维护标签页

<Playground>
  {() => {
    const [tabs, setTabs] = useState(() => {
      const items = [];
      for (let i = 0; i < 10; i++) {
        items.push({ id: i, title: `标签${i + 1}`, content: `内容${i + 1}` });
      }
      return items;
    });

    const handleTabRemove = (event, tabId) => {
      event.stopPropagation();
      const newTabs = tabs.filter(tab => tab.id !== tabId);

      setTabs(newTabs);
    };

    const handleAdd = () => {
      const index = Math.max(...tabs.map(tab => tab.id)) + 1;
      const newTabs = [...tabs, { id: index, title: `标签${index + 1}`, content: `内容${index + 1}` }];

      setTabs(newTabs);
    }

    return (
      <>
      <TabGroup>
        {tabs.map((tab) => (
          <Tab key={tab.id} title={<div>
              {tab.title}<MdDelete onClick={(event) => handleTabRemove(event, tab.id)}></MdDelete>
            </div>}>
            {tab.content}
          </Tab>
        ))}
      </TabGroup>
      <Button raised onClick={handleAdd}>新增</Button>
      </>
    );

}}

</Playground>
