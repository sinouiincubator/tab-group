---
name: 开始
route: /
---

import { useState } from 'react';
import { Playground } from 'docz';
import { MdDelete } from 'react-icons/md';
import TabGroup, { Tab, TabHeader, TabHeaderItem } from '../src';
import TabContentDemo from './TabContentDemo';
import Button from 'sinoui-components/Button';

# 标签页

选项卡切换组件。

## 安装依赖

```shell
yarn add sinoui-components @sinouiincubator/tab-group
```

## 入门示例

```tsx
import React from 'react';
import TabGroup, { Tab } from '@sinouiincubator/tab-group';

function Demo() {
  return (
    <TabGroup>
      <Tab title="标签1">标签内容1</Tab>
      <Tab title="标签2">标签内容2</Tab>
      <Tab title="标签3">标签内容3</Tab>
    </TabGroup>
  );
}
```

<Playground>
  {() => {
    const [active, setActive] = useState(0);

    return <TabGroup selectedIndex={active} onSelect={(index) => setActive(index)}>
        <Tab title="标签1">内容 1</Tab>
        <Tab title="标签2">内容 2</Tab>
        <Tab title="标签3">内容 3</Tab>
    </TabGroup>;

}}

</Playground>

## TabHeader

<Playground>
  {() => {
    const [active, setActive] = useState(0);

    return <TabHeader selectedIndex={active} onSelect={setActive}>
      <TabHeaderItem title="标签1" />
      <TabHeaderItem title="标签2" />
      <TabHeaderItem title="标签3" />
    </TabHeader>;

}}

</Playground>

## TabContent

<Playground>
  <TabContentDemo />
</Playground>

## 维护标签页

<Playground>
  {() => {
    const [tabs, setTabs] = useState(() => {
      const items = [];
      for (let i = 0; i < 10; i++) {
        items.push({ id: i, title: `标签${i + 1}`, content: `内容${i + 1}` });
      }
      return items;
    });

    const handleTabRemove = (event, tabId) => {
      event.stopPropagation();
      const newTabs = tabs.filter(tab => tab.id !== tabId);

      setTabs(newTabs);
    };

    const handleAdd = () => {
      const index = Math.max(...tabs.map(tab => tab.id)) + 1;
      const newTabs = [...tabs, { id: index, title: `标签${index + 1}`, content: `内容${index + 1}` }];

      setTabs(newTabs);
    }

    return (
      <>
      <TabGroup>
        {tabs.map((tab) => (
          <Tab key={tab.id} title={<div>
              {tab.title}<MdDelete onClick={(event) => handleTabRemove(event, tab.id)}></MdDelete>
            </div>}>
            {tab.content}
          </Tab>
        ))}
      </TabGroup>
      <Button raised onClick={handleAdd}>新增</Button>
      </>
    );

}}

</Playground>
